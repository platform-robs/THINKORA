<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Thinkora | Herramientas</title>

<link href="https://fonts.googleapis.com/css2?family=Righteous&family=Comfortaa:wght@300;400;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="assets/css/styles.css">

<style>

/* =========================
   SECCIÓN PRINCIPAL
========================= */

.tools-main{
  padding:120px 20px 80px;
  text-align:center;
}

.tools-main h1{
  font-family:'Righteous', cursive;
  font-size:2.5rem;
  margin-bottom:10px;
}

.tools-main p{
  max-width:800px;
  margin:0 auto 50px;
  opacity:.85;
}

/* =========================
   GRID DE TARJETAS
========================= */

.tools-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:25px;
  max-width:1100px;
  margin:0 auto;
}

/* =========================
   TARJETAS ESTILO THINKORA
========================= */

.tool-card{
  background:linear-gradient(145deg,#111,#1a1a1a);
  border:1px solid rgba(255,255,255,.08);
  padding:30px 20px;
  border-radius:20px;
  cursor:pointer;
  transition:.3s ease;
  font-weight:600;
  font-family:'Comfortaa', sans-serif;
}

.tool-card:hover{
  transform:translateY(-6px);
  border-color:#ff4fa6;
  box-shadow:0 10px 30px rgba(255,79,166,.25);
}

/* Tarjeta destacada */
.highlight-card{
  background:linear-gradient(135deg,#ff4fa6,#ffb347);
  color:#000;
  font-weight:800;
}

/* =========================
   MODALES
========================= */

.modal{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.7);
  backdrop-filter:blur(6px);
  justify-content:center;
  align-items:center;
  z-index:1000;
}

.modal-content{
  background:#1c1c1c;
  padding:40px;
  border-radius:20px;
  width:90%;
  max-width:500px;
  text-align:center;
}

.modal-content input,
.modal-content select{
  width:100%;
  padding:12px;
  margin:8px 0;
  border-radius:10px;
  border:none;
  background:#2a2a2a;
  color:#fff;
}

.modal-content button{
  margin-top:15px;
  padding:12px 20px;
  border:none;
  border-radius:10px;
  cursor:pointer;
  font-weight:700;
}

.close-btn{
  background:#ff4fa6;
  color:#fff;
  margin-top:10px;
}

</style>

</head>

<body>

<div id="navbar-container"></div>

<main class="tools-main">

  <h1 data-i18n="toolsPage.title"></h1>

  <p data-i18n="toolsPage.intro"></p>

  <div class="tools-grid">

    <div class="tool-card" data-i18n="toolsPage.cards.quote"></div>
    <div class="tool-card" data-i18n="toolsPage.cards.viewQuotes"></div>
    <div class="tool-card" data-i18n="toolsPage.cards.techGen"></div>
    <div class="tool-card" data-i18n="toolsPage.cards.viewTech"></div>
    <div class="tool-card" data-i18n="toolsPage.cards.contracts"></div>
    <div class="tool-card" data-i18n="toolsPage.cards.agents"></div>
    <div class="tool-card" data-i18n="toolsPage.cards.qr"></div>

    <div class="tool-card" onclick="openPortfolio()" data-i18n="toolsPage.cards.portfolio"></div>

    <div class="tool-card highlight-card" onclick="openRegister()" data-i18n="toolsPage.cards.createUser"></div>

  </div>

</main>

<div id="footer-container"></div>

<!-- =========================
     MODAL REGISTRO
========================= -->

<div class="modal" id="registerModal">
  <div class="modal-content">

    <h2 data-i18n="toolsPage.register.title"></h2>

    <form id="registerForm">

      <input name="nombre" required data-i18n-placeholder="toolsPage.register.name">
      <input name="apellidoP" required data-i18n-placeholder="toolsPage.register.lastName1">
      <input name="apellidoM" required data-i18n-placeholder="toolsPage.register.lastName2">
      <input name="telefono" required data-i18n-placeholder="toolsPage.register.phone">
      <input name="correo" type="email" required data-i18n-placeholder="toolsPage.register.email">
      <input name="password" type="password" required data-i18n-placeholder="toolsPage.register.password">
      <input name="confirmPassword" type="password" required data-i18n-placeholder="toolsPage.register.confirmPassword">

      <select name="equipo" required>
        <option value="">Equipo</option>
        <option value="Sales">Sales</option>
        <option value="Tech">Tech</option>
      </select>

      <button type="submit" id="submitBtn" data-i18n="toolsPage.register.submit"></button>

    </form>

    <button onclick="closeRegister()" class="close-btn">Cerrar</button>

  </div>
</div>

<script src="assets/js/i18n.js"></script>
<script src="assets/js/navbar.js"></script>

<script>

const WEBAPP_URL="https://script.google.com/macros/s/AKfycbzqrowJYv1VYr8QJmAbL2xCbxNMsgo0QQbwmI7zBzLV__Wwo9TyyJLRwcoJb8tAv1Pc/exec";

function openRegister(){
  document.getElementById("registerModal").style.display="flex";
}

function closeRegister(){
  document.getElementById("registerModal").style.display="none";
}

function openPortfolio(){
  alert("Aquí irá el popup con proyectos.");
}

document.getElementById("registerForm").addEventListener("submit",async function(e){

  e.preventDefault();

  const form=e.target;

  if(form.password.value!==form.confirmPassword.value){
    alert("Las contraseñas no coinciden");
    return;
  }

  const btn=document.getElementById("submitBtn");
  btn.disabled=true;

  const data={
    nombre:form.nombre.value,
    apellidoP:form.apellidoP.value,
    apellidoM:form.apellidoM.value,
    telefono:form.telefono.value,
    correo:form.correo.value,
    password:form.password.value,
    equipo:form.equipo.value
  };

  await fetch(WEBAPP_URL,{
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify(data)
  });

  alert("Solicitud enviada correctamente.");
  btn.disabled=false;
  closeRegister();
});

</script>

</body>
</html>
