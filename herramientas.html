r<!DOCTYPE html>
<html lang="es">
<head>

  <!-- ================= CONFIG ================= -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- ================= SEO ================= -->
  <title>Herramientas | Thinkora</title>
  <meta name="description" content="Acceso a herramientas internas Thinkora.">
  <meta name="author" content="Salvador Robles">

  <!-- ================= FUENTES ================= -->
  <link href="https://fonts.googleapis.com/css2?family=Righteous&family=Comfortaa:wght@300;400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

  <!-- ================= CSS GLOBAL ================= -->
  <link rel="stylesheet" href="assets/css/styles.css">

  <!-- ================= ESTILOS DE ESTA P√ÅGINA ================= -->
  <style>

    .tools-grid{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
      gap:30px;
      margin-top:50px;
    }

.tool-card {
  background: var(--bg-card);
  border: 1px solid var(--border-soft);
  border-radius: 16px;
  padding: 30px 20px;
  transition: all 0.3s ease;
  cursor: pointer;
  text-align: center; /* üî• mantiene todo centrado */
}

.tool-card:hover {
  transform: translateY(-6px);
  border-color: var(--accent-blue);
}

/* Contenedor icono + t√≠tulo */
.tool-title {
  display: inline-flex;   /* üî• clave */
  align-items: center;
  gap: 10px;
  margin-bottom: 10px;
}

/* √çcono blanco */
.tool-title i {
  color: #ffffff;
  font-size: 1.2rem;
}

/* Quita margen autom√°tico del h3 */
.tool-title h3 {
  margin: 0;
}

/* Texto descriptivo */
.tool-card p {
  color: var(--text-muted);
  font-size: 0.9rem;
  margin: 0;
}

    /* ===== MODAL PROYECTOS ===== */

    .modal-overlay{
      position:fixed;
      inset:0;
      background:rgba(0,0,0,.75);
      display:none;
      align-items:center;
      justify-content:center;
      z-index:2000;
    }

    .modal{
      background:var(--bg-card);
      padding:40px;
      border-radius:16px;
      max-width:400px;
      width:90%;
      text-align:center;
      border:1px solid var(--border-soft);
    }

    .modal a{
      display:block;
      margin:10px 0;
      color:var(--accent-blue);
      text-decoration:none;
      font-weight:600;
    }

    .modal button{
      margin-top:20px;
      background:none;
      border:none;
      color:var(--text-muted);
      cursor:pointer;
    }


    /* ======= CREAR USUARIO =====*/

    .modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.75);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 3000;
  padding: 20px;
}

.modal-form {
  background: var(--bg-card);
  padding: 30px;
  border-radius: 16px;
  width: 100%;
  max-width: 500px;
  border: 1px solid var(--border-soft);
  text-align: center;
}

.modal-form input,
.modal-form select {
  width: 100%;
  padding: 12px;
  margin-bottom: 15px;
  border-radius: 8px;
  border: 1px solid var(--border-soft);
  background: var(--bg-dark);
  color: var(--text-main);
}

.modal-form button {
  width: 100%;
  padding: 12px;
  border-radius: 8px;
  border: none;
  background: var(--gradient-main);
  font-weight: bold;
  cursor: pointer;
}
    
  </style>
</head>

<body>

  <!-- ================= NAVBAR ================= -->
  <div id="navbar-container"></div>

  <!-- ================= CONTENIDO ================= -->
  <main>
    <h1 class="title" data-i18n="toolsPage.title"></h1>
      <p class="subtitle" data-i18n="toolsPage.intro"></p>

    <div class="tools-grid">

      <div class="tool-card" onclick="window.location.href='TOOLS/cotizador.html'">
        <div class="tool-title">
          <i class="fa-solid fa-calculator"></i>
          <h3 data-i18n="toolsPage.cards.quote"></h3>
        </div>
        <p>Genera cotizaciones personalizadas.</p>
      </div>

      <div class="tool-card" onclick="window.location.href='TOOLS/ver_cotizaciones.html'">
        <div class="tool-title">
          <i class="fa-solid fa-file-lines"></i>
          <h3 data-i18n="toolsPage.cards.viewQuotes"></h3>
        </div>
        <p>Consulta historial de cotizaciones.</p>
      </div>

      <div class="tool-card" onclick="window.location.href='TOOLS/generar_propuesta.html'">
        <div class="tool-title">
          <i class="fa-solid fa-file-signature"></i>
          <h3 data-i18n="toolsPage.cards.techGen"></h3>
        </div>
        <p>Crea propuestas t√©cnicas profesionales.</p>
      </div>

      <div class="tool-card" onclick="window.location.href='TOOLS/ver_propuestas.html'">
        <div class="tool-title">
          <i class="fa-solid fa-folder-open"></i>
          <h3 data-i18n="toolsPage.cards.viewTech"></h3>
        </div>
        <p>Consulta propuestas guardadas.</p>
      </div>

      <div class="tool-card" onclick="window.location.href='TOOLS/contratos.html'">
        <div class="tool-title">
          <i class="fa-solid fa-file-contract"></i>
          <h3 data-i18n="toolsPage.cards.contracts"></h3>
        </div>
        <p>Gesti√≥n de contratos activos.</p>
      </div>

      <div class="tool-card" onclick="window.location.href='TOOLS/presentacion.html'">
        <div class="tool-title">
          <i class="fa-solid fa-users"></i>
          <h3 data-i18n="toolsPage.cards.agents"></h3>
        </div>
        <p>Material para agentes comerciales.</p>
      </div>

      <div class="tool-card" onclick="window.location.href='TOOLS/paquetes.html'">
        <div class="tool-title">
          <!--
          <i class="fa-solid fa-users"></i>
          <h3 data-i18n="toolsPage.cards.agents"></h3>
          -->
          <h3>PAQUETES</h3>
        </div>
        <p>Paquetes para negocios.</p>
      </div>

      <div class="tool-card" onclick="window.location.href='TOOLS/qrs.html'">
        <div class="tool-title">
          <i class="fa-solid fa-qrcode"></i>
          <h3 data-i18n="toolsPage.cards.qr"></h3>
        </div>
        <p>Genera c√≥digos QR personalizados.</p>
      </div>

      <div class="tool-card" onclick="openProjects()">
        <div class="tool-title">
          <i class="fa-solid fa-briefcase"></i>
          <h3 data-i18n="toolsPage.cards.quote"></h3>
        </div>
        <p>Acceso a proyectos externos.</p>
      </div>

<div class="tool-card" onclick="openUserModal()">
  <div class="tool-title">
    <i class="fa-solid fa-user-plus"></i>
    <h3 data-i18n="toolsPage.cards.createUser"></h3>
  </div>
  <p>√önete al equipo.</p>
</div>

    </div>
  </main>

  <!-- ================= FOOTER ================= -->
  <div id="footer-container"></div>

  <!-- ================= MODAL PROYECTOS ================= -->
  <div class="modal-overlay" id="projectsModal">
    <div class="modal">
      <h2>Proyectos</h2>
      <a href="https://ejemplo1.com" target="_blank">Proyecto 1</a>
      <a href="https://ejemplo2.com" target="_blank">Proyecto 2</a>
      <button onclick="closeProjects()">Cerrar</button>
    </div>
  </div>

  <!-- ================= SCRIPTS ================= -->
  <script src="assets/js/i18n.js"></script>
  <script src="assets/js/navbar.js"></script>
  <script src="assets/js/footer.js"></script>

  <script>

    function goTo(path){
      window.location.href = path;
    }

    function openProjects(){
      document.getElementById("projectsModal").style.display="flex";
    }

    function closeProjects(){
      document.getElementById("projectsModal").style.display="none";
    }

  </script>

  <!-- ================= CREAR USUARIO ================= -->

<!-- POPUP CREAR USUARIO -->
<div class="modal-overlay" id="userModal">
  <div class="modal-form">

    <h2>Solicitud de Nuevo Usuario</h2>

    <form id="userForm"
      action="https://script.google.com/macros/s/AKfycbyyriFyvjjsYm30sDqyHfj87woIiW6eCYB8KJDDmMczb9mSqB2Bxsatytq4YMZaUaxj/exec"
      method="POST"
      target="hidden_iframe"
      onsubmit="handleSubmit(event)">

      <input name="nombre" data-i18n="toolsPage.register.name" placeholder="">
      
      <input name="apellidoP" data-i18n="toolsPage.register.lastName1" placeholder="">
      
      <input name="apellidoM" data-i18n="toolsPage.register.lastName2" placeholder="">
      
      <input name="telefono" data-i18n="toolsPage.register.phone" placeholder="">
      
      <input name="correo" data-i18n="toolsPage.register.email" placeholder="">

      <input name="password" type="password" id="pass1" data-i18n="toolsPage.register.password" placeholder="">
      
      <input type="password" id="pass2" data-i18n="toolsPage.register.confirmPassword" placeholder="">

      <select name="equipo" required>
        <option value="">Selecciona equipo</option>
        <option>Sales</option>
        <option>Tech</option>
        <option>Design</option>
        <option>Marketing</option>
      </select>

      <button type="submit" id="submitBtn" data-i18n="toolsPage.register.submit"></button>

    </form>

    <button class="close-btn" onclick="closeUserModal()">Cancelar</button>

  </div>
</div>

<iframe name="hidden_iframe" style="display:none;"></iframe>




<script>

function openUserModal() {
  document.getElementById("userModal").style.display = "flex";
}

function closeUserModal() {
  document.getElementById("userModal").style.display = "none";
}

function handleSubmit(event) {

  event.preventDefault();

  const form = document.getElementById("userForm");
  const btn = document.getElementById("submitBtn");

  const nombre = form.nombre;
  const apellidoP = form.apellidoP;
  const apellidoM = form.apellidoM;
  const telefono = form.telefono;
  const correo = form.correo;
  const equipo = form.equipo.value;
  const p1 = document.getElementById("pass1");
  const p2 = document.getElementById("pass2");

  // MAY√öSCULAS
  nombre.value = nombre.value.toUpperCase();
  apellidoP.value = apellidoP.value.toUpperCase();
  apellidoM.value = apellidoM.value.toUpperCase();

  // TEL√âFONO 10 D√çGITOS
  if (!/^[0-9]{10}$/.test(telefono.value)) {
    alert("El tel√©fono debe tener 10 d√≠gitos.");
    return;
  }

  // VALIDAR EMAIL
  if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(correo.value)) {
    alert("Correo inv√°lido.");
    return;
  }

// VALIDAR PASSWORD
if (p1.value.length < 8) {
  alert("La contrase√±a debe tener al menos 8 caracteres.");
  return;
}

if (p1.value !== p2.value) {
  alert("Las contrase√±as no coinciden.");
  return;
}

  btn.disabled = true;
  btn.innerText = "Enviando...";

  // GENERAR ID (√∫ltimos 3 d√≠gitos)
  const idGenerado =
    nombre.value.charAt(0) +
    apellidoP.value.substring(0,3) +
    telefono.value.slice(-3);

  // ENVIAR FORMULARIO
  form.submit();

  // ABRIR WHATSAPP (sin setTimeout)
  const mensaje = encodeURIComponent(
    `Nuevo registro Thinkora:

Nombre: ${nombre.value} ${apellidoP.value}
Equipo: ${equipo}
ID: ${idGenerado.toUpperCase()}`
  );

  window.open(
    `https://wa.me/5214495165882?text=${mensaje}`,
    "_blank"
  );

  alert("Solicitud enviada correctamente");

  form.reset();
  btn.disabled = false;
  btn.innerText = "Enviar solicitud";
  closeUserModal();
}

</script>



  

</body>
</html>
